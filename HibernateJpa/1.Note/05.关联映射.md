# 05.关联映射

## 1. 一对一关联关系

- User 和 Role 实体类
  - ![image-20210902145845062](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210902145845062.png)
  - ![image-20210902164336640](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210902164336640.png)
- 建立用户角色关系
  - ![image-20210902164620289](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210902164620289.png)
  - ![image-20210904131436061](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904131436061.png)
    - ![image-20210904131508036](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904131508036.png)
    - ![image-20210904131532704](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904131532704.png)
  - 查询：![image-20210902170335478](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210902170335478.png)



## 2. 一对多关系

- 需求：角色（一）到用户（多）的一对多关系
  - 一个用户只能有一个角色 
  - 多方有外键
- 实体类：
  - ![image-20210902171205495](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210902171205495.png)
  - 开启级联操作
    - ![image-20210904134922864](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904134922864.png)
- 测试
  - ![image-20210904134951217](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904134951217.png)
  - ![image-20210904135007033](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904135007033.png)
- 查询
  - ![image-20210904135215594](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904135215594.png)
  - ![image-20210904135223582](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904135223582.png)

## 3. 多对多关系

- 需求：
  - 一个角色拥有多个菜单
  - 一个菜单可以分配多个角色
-  多对多
  - `inverseJoinColumns=@JoinColumn(name=“menu_id”)`
  - `joinColumns=@JoinColumn(name=“role_id”)`
  - Role:
    - ![image-20210904201746418](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201746418.png)
  - Menu:
    - ![image-20210904200536345](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904200536345.png)
  - 测试
    - ![image-20210904201142462](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201142462.png)![image-20210904201317818](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201317818.png)
    - ![image-20210904201207478](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201207478.png)
  - 表结构
    - ![image-20210904201458305](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201458305.png)
    - ![image-20210904201405504](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201405504.png)
    - ![image-20210904201435708](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201435708.png)
    - ![image-20210904201521223](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201521223.png)
  - 查询
    - ![image-20210904201805269](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201805269.png)
    - ![image-20210904201817459](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210904201817459.png)































